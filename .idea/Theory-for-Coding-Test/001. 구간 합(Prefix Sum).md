# 구간 합

### 최초 작성일 : 2025-02-07
### 최초 작성시간 : 21:05
### 최초 작성자 : 장성환
### 작성 목적 : 구간 합 개념 정리

---

### 마지막 수정일 : 2025-03-16
### 마지막 수정시간 : 11:12
### 마지막 작성자 : 장성환

---
### 수정이력

2025-02-07
1. 목차 형태로 정리
2. 내용 추가

2025-02-11
1. 목차 정리

2025-02-12
1. 내용 추가

2025-02-18
1. 파일 이름 변경

2025-03-06
1. 수식 입력 방식 변경

2025-03-16
1. 출처 수정

---
### 자료 출처

[Do It! 알고리즘 코딩테스트 자바 편](https://search.shopping.naver.com/book/catalog/32490707452?query=Do%20It%21%20%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%20%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EC%9E%90%EB%B0%94%20%ED%8E%B8&NaPm=ct%3Dm8b0153k%7Cci%3D5941797f40bf60f0ca6c9fa49de0d725ca77fca0%7Ctr%3Dboksl%7Csn%3D95694%7Chk%3De2a8eedcf7bdbd8fec6986b9ff8bfaaa587fdd6a)

[구간 합 추가 자료 1](https://velog.io/@ymj7250/%EB%B0%B1%EC%A4%80-%EA%B5%AC%EA%B0%84%ED%95%A9)


---

### 1. 기본 개념
* 구간 합은 배열에서 특정한 구간 [a, b]의 합을 구한 것으로 합 배열을 이용해서 시간 복잡도를 더 줄이기 위해 사용한다.
* 합 배열이란 n개의 숫자에 대해서 일정한 구간의 합들을 구한 값들의 모임이다. 
* 합 배열의 어떤 인덱스 i로 구할 수 있는 값은 숫자 배열 A에서 A[0]부터 A[i]까지의 합을 구한다.
* 따라서 합 배열 S와 숫자 배열 A의 관계는 다음과 같은 식이 성립한다.
  * S[i] = A[0] + A[1] + A[2] + ... + A[i]
* 예를 들어 배열 A에 25, 16, 8, 6, 18이라는 요소가 있을 때 합 배열 S을 구한다면

|구분|||||| 
|---|---|---|---|---|---|
|배열 A|25|16|8|6|18|
|합 배열 S|25|41|49|55|73|

* 이렇게 구할 수 있다.

### 2. 합 배열 공식

* 어떤 1차원 배열 A로 합 배열 S를 만들기 위해 사용하는 공식은 
  * S[i] = S[i-1] + A[i]
* 가 되며 이러한 합 배열을 통해서 배열 A의 어떠한 구간 [i, j](i ≤ j)의 합을 구하기 위해서
  * S[j] - S[i-1]
* 이라는 공식을 사용한다.
* 이를 2차원 배열로 확장했을 때 다음의 공식을 사용한다.
  * A : 2차원 배열, S : 합 배열
  * 합 배열을 구하는 공식 : S[i][j] = A[i][j] + S[i-1][j] + S[i][j] - S[i-1][j-1]
  * (a, b)부터 (c, d)까지의 구간 합 = S[c][d] - S[a-1][d] - S[c][b-1] + S[a-1][b-1]

 
### 3. 시간 복잡도

* 구간 합을 사용하는 이유는 시간 복잡도 측면에서 바라보면 알 수 있다.
* 어떤 1차원 배열 A에서 어떠한 구간 [i, j](i ≤ j)의 합을 합 배열 없이 구할 때 최선의 경우는 i = j로 시간 복잡도는 $Ο(1)$이다.
* 하지만 최악의 경우는 i = 0, j = (배열 A의 마지막 인덱스)인 경우로 배열 A의 모든 요소를 접근하면서 합을 구해야 하기 때문에 시간 복잡도는 $Ο(n)$이다.(같은 이유로 2차원 배열인 경우에는 $Ο(n^2)$)
* 만약에 합 배열 S를 구한 상태라면 어떤 구간 [i, j](i ≤ j)의 합을 구하기 위해 S에서 S[i-1]과 S[j]만 접근해서 공식을 활용하면 되기 때문에 시간 복잡도는 언제나 $Ο(1)$이 된다는 이점이 있다.
